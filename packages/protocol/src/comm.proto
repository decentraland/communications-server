syntax = "proto3";

enum MessageType {
  UNKNOWN = 0;
  SERVER_REQUEST_SETUP = 1;
  POSITION = 2;
  CHAT = 3;
  CLIENT_DISCONNECTED_FROM_SERVER = 4;
}

message GenericMessage {
    MessageType type = 1;
}

message ServerSetupRequestMessage {
    MessageType type = 1;
    uint32 position_update_ms = 2;
}

message PositionMessage {
    MessageType type = 1;
    float position_x = 2;
    float position_y = 3;
    float rotation_x = 4;
    float rotation_y = 5;
    float rotation_z = 6;
    float rotation_w = 7;
    double time = 8;
    string peer_id = 9;
}

message ChatMessage {
    MessageType type = 1;
    float position_x = 2;
    float position_y = 3;
    string text = 4;
    double time = 5;
    string peer_id = 6;
}

message ClientDisconnectedFromServerMessage {
    MessageType type = 1;
    double time = 2;
    string peer_id = 3;
}
